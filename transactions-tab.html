<!-- Credentials Setup Section -->
<div class="transactions-section">
    <div class="section-title-trans">âš™ï¸ Max Configuration</div>
    <div class="alert-trans alert-info-trans" id="credentialsAlert">
        Configure your Max credentials to start syncing transactions.
    </div>
    <button class="btn btn-primary" onclick="openCredentialsModal()">
        ğŸ” Setup Max Credentials
    </button>
</div>

<!-- Sync Section -->
<div class="transactions-section">
    <div class="section-title-trans">ğŸ”„ Sync Transactions</div>
    <div class="sync-status">
        <div class="sync-info">
            <div>Last sync: <strong id="lastSyncTime">Never</strong></div>
            <div id="lastSyncCount"></div>
        </div>
        <div class="sync-buttons">
            <button class="btn btn-primary" onclick="syncTransactions()" id="syncBtn">
                ğŸ”„ Sync Now
            </button>
            <button class="btn btn-success" onclick="autoLabelAll()" id="autoLabelBtn">
                ğŸ·ï¸ Auto-label
            </button>
        </div>
    </div>
    
    <div class="loading-trans" id="syncLoading">
        <div class="spinner-trans"></div>
        <div>Syncing with Max...</div>
    </div>

    <div id="syncResult"></div>
</div>

<!-- Unlabeled Transactions -->
<div class="transactions-section" id="unlabeledSection" style="display: none;">
    <div class="section-title-trans">âš ï¸ Unlabeled Transactions (<span id="unlabeledCount">0</span>)</div>
    <div id="unlabeledList"></div>
</div>

<!-- Categorized Transactions -->
<div class="transactions-section" id="categorizedSection" style="display: none;">
    <div class="section-title-trans">ğŸ“Š Transactions by Category</div>
    <div id="categorizedList"></div>
</div>

<div class="empty-state-trans" id="emptyState">
    <div class="empty-state-icon">ğŸ“­</div>
    <div>No transactions yet</div>
    <div style="margin-top: 10px; font-size: 0.9em;">Click "Sync Now" to get started</div>
</div>

<!-- Credentials Modal -->
<div id="credentialsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>ğŸ” Max Credentials</h2>
            <button class="modal-close" onclick="closeCredentialsModal()">âœ•</button>
        </div>
        <div class="modal-body">
            <div class="alert-trans alert-info-trans">
                Your credentials will be encrypted and stored securely in Firebase.
            </div>
            <form id="credentialsForm" onsubmit="saveCredentials(event)">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 500;">Max Username</label>
                    <input 
                        type="text" 
                        class="auth-input" 
                        id="maxUsername" 
                        placeholder="Your Max username"
                        required
                    />
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 500;">Max Password</label>
                    <input 
                        type="password" 
                        class="auth-input" 
                        id="maxPassword" 
                        placeholder="Your Max password"
                        required
                    />
                </div>
                <div id="credentialsError"></div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="modal-button secondary" onclick="closeCredentialsModal()">
                Cancel
            </button>
            <button type="submit" form="credentialsForm" class="modal-button primary" id="saveCredentialsBtn">
                Save Credentials
            </button>
        </div>
    </div>
</div>
